name: Отметка устаревших отчётов и запросов на слияние

on:
  schedule:
  - cron: "0 0 * * *"

jobs:
  stale:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/stale@v4
      with:
        repo-token: ${{ secrets.GITHUB_TOKEN }}
        days-before-stale: 14
        days-before-pr-close: 7
        stale-pr-label: 'Stale'
        exempt-pr-labels: 'RED LABEL'
        stale-pr-message: "Этот PR был неактивен достаточно долго, поэтому он был автоматически помечен как устаревший. Это означает, что существует риск того, что он будет автоматически закрыт через ~ 14 дней. Пожалуйста, устраните все нерешенные вопросы и убедитесь, что ваш PR завершен. Если ваш PR готов, вы должны попросить специалиста по обслуживанию удалить устаревшую метку на вашем PR, чтобы сбросить таймер. Если вы думаете, что за это время ни один сопровождающий не ответит, вы можете закрыть этот PR самостоятельно и переоткрыть его когда будете готовы."
        close-pr-message: "PR был неактивен крайне долгое время, поэтому он был автоматически закрыт спустя 7 дней после получения специальной метки `stale`."
